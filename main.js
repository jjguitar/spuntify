(()=>{"use strict";var a={};a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"==typeof window)return window}}(),(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})();const e=a.p+"assets/img/461a81c236317cb30c2ae19cfd4ee93f.svg",t=a.p+"assets/img/4cb7f9c2ee8b1770ceb73b8e65a28679.svg",n=a.p+"assets/img/17d466dd49b915f2d2f3fd1ea069ab52.svg",s=a.p+"assets/img/3188f95c698bf31537962aa1b6b4b036.svg",i=a.p+"assets/img/19250efd817d4dc722a9e16d6b93a4eb.svg",r=a.p+"assets/img/cee424507c45505ab0695a53c1287dc6.svg",c={getToken:()=>(async()=>{const a=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+btoa("0b5d68ec183745c88d11fefac1c2ae1c:429ee0e54a514f86b5270c07644df3c2")},body:"grant_type=client_credentials"});((a,e,t)=>{let n="";{let a=new Date;a.setTime(a.getTime()+2592e6),n="; expires="+a.toUTCString()}document.cookie="BearerToken="+(e||"")+n+"; path=/"})(0,(await a.json()).access_token)})(),getGenres:a=>(async a=>{const e=await fetch("https://api.spotify.com/v1/browse/categories?locale=sv_US",{method:"GET",headers:{Authorization:"Bearer "+a}});return(await e.json()).categories.items})(a),getPlaylistByGenre:(a,e)=>(async(a,e)=>{const t=await fetch(`https://api.spotify.com/v1/browse/categories/${e}/playlists?limit=12`,{method:"GET",headers:{Authorization:"Bearer "+a}});return(await t.json()).playlists.items})(a,e),getTracks:(a,e)=>(async(a,e)=>{const t=await fetch(`${e}?limit=7`,{method:"GET",headers:{Authorization:"Bearer "+a}});return(await t.json()).items})(a,e)},l=a=>{let e=a+"=",t=document.cookie.split(";");for(var n=0;n<t.length;n++){let a=t[n];for(;" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(e))return a.substring(e.length,a.length)}return null},d=a=>(async a=>{let e=[];return await c.getToken(),(await c.getGenres(l("BearerToken"))).forEach((a=>e.push({id:a.id,name:a.name}))),[e[a],await c.getPlaylistByGenre(l("BearerToken"),e[a].id)]})(a),o=a=>(async a=>await c.getTracks(l("BearerToken"),a))(a),g=async()=>`\n  <div>\n    <div class="nav-right__logo">\n      <img src="${e}" alt="logo" width="120" height="36">\n    </div>\n    <div class="menu__container">\n      <ul class="nav-right__home">\n        <li class="gray__push"><img src="${t}" class="icon__home" width="20" height="20">Home</li>\n        <li><img src="${s}" class="icon__home" width="20" height="20">Search</li>\n        <li><img src="${n}" class="icon__home" width="20" height="20">Your Library</li>\n      </ul>\n      <ul class="nav-right__create-playlist">\n        <li><img src="${i}" alt="plus" class="icon__home plus" width="20" height="20">Create Playlist</li>\n        <li><img src="${r}" alt="heart" class="icon__home heart" width="20" height="20">Liked Songs</li>\n      </ul>\n    </div>\n    <div class="list__container">\n      <ul class="nav-right__top-list">\n        ${await(async()=>{let a="",e=await d(Math.floor(19*Math.random())+0);e=e[1];for(let t of e)a=a+"\n"+`\n      <li>${t.name}</li>\n    `;return a})()}\n      </ul>\n    </div>\n  </div>\n  `,h=a.p+"assets/img/5d319bc7860737ed064d1762e4243869.svg",m=a=>{let e="";for(let t of a)e=e+"\n"+`\n        <div class="card-recently">\n          <div class="card-img">\n            <img src="${t.images[0].url}" alt="img" width="160">\n          </div>\n          <h1 class="card-recently__tittle">${t.name}</h1>\n          <p class"card-recently__artist">By ${t.owner.display_name}</p>\n        </div>\n    `;return`\n  <div class="container__recently">\n    ${e}\n  </div>\n  `},v=(a,e)=>Math.floor(Math.random()*(e-a))+a,p=a.p+"assets/img/518e33f1da38dafd28022bf0e8696511.svg",w=a.p+"assets/img/333d4e34dfe11f5979e8046aceb4329d.svg",b=a.p+"assets/img/c5856b456ddeefbbd05e73ea6ac81b31.svg",f=a.p+"assets/img/1b4fe47788d6c47edda8dd6009008246.svg",_=a.p+"assets/img/7f11ec9b117a496b47768c666ece7f11.svg",u=a.p+"assets/img/b1b50bf39b30724fb45a2ab0d95626f0.svg",y=a.p+"assets/img/8bf63a4d31bd5cf723239434a605499a.svg",$=a.p+"assets/img/dd55c29823e0a7e8839db81a3bf7ba7b.svg",T=a.p+"assets/img/efa9a5a0ec7e312d55b52bb8528ba65c.svg",k=a.p+"assets/img/1985511d55355369872ba3d6cbb5e29f.svg",B=a.p+"assets/img/19f3c23b1705dd88d667771dad021197.svg",E=(a,e)=>Math.floor(Math.random()*(e-a))+a;window.addEventListener("load",(async()=>{const a=document.getElementById("header"),e=document.getElementById("nav-right"),t=document.getElementById("content"),n=document.getElementById("player");a.innerHTML=await(`\n  <a class="header__arrow-back">\n    <img src="${h}" alt="arrow">\n  </a>\n  <div class="header__avatar">\n    <img src="https://platform-lookaside.fbsbx.com/platform/profilepic/?asid=10203764242125371&height=300&width=300&ext=1620131731&hash=AeTKkPhZ3vUCxI9Kw-k" alt="avatar">\n  </div>\n  `),e.innerHTML=await g(),t.innerHTML=await(async()=>`\n  <div class="container-main">\n    <section class="greetings">\n      <h1 class="content__tittle-top">Good evening</h1>\n      <div class="container__greeting">\n        ${await(async()=>{let a,e,t="",n="";a=await d(0),a=a[1],e=a.length;for(let s=0;s<e;s++)s<e/2?t=t+"\n"+`<div class="cards__top-item">\n      <div>\n        <img src="${a[s].images[0].url}" width="80" height="80" alt="capture">\n      </div>\n      <p>${a[s].name}</p>\n    </div>`:n=n+"\n"+`<div class="cards__top-item">\n      <div>\n        <img src="${a[s].images[0].url}" width="80" height="80" alt="capture">\n      </div>\n      <p>${a[s].name}</p>\n    </div>`;return`\n    <div class="row__1">\n      ${t}\n    </div>\n    <div class="row__1">\n      ${n}\n    </div>\n  `})()}\n      </div>\n    </section>\n    ${await(async()=>{let a="";for(let e=1;e<8;e++){let e=v(1,20),t=await d(e),n=t[0];t=t[1],a=a+"\n"+`\n    <section class="recently-played">\n      <h2>${n.name}</h2>\n      ${m(t)}\n    </section>\n    `}return a})()}\n  `)(),n.innerHTML=await(async()=>{let a=await(async()=>{let a;a=await d(E(0,19)),a=a[1];let e=a[E(0,a.length-1)].tracks.href,t=await o(e);return t=t[E(0,t.length-1)].track,[t.name,t.album.images[2].url,t.artists[0].name]})();return`\n    <div id="install-app">\n      <img src="${p}" alt="download" width="24">\n      <a href="/">Install App</a>\n    </div>\n    <div class="player-control">\n      <div class="player__song">\n        <div class="player__song-actual">\n          <img src="${a[1]}" width="64" height="64" alt="cover">\n        </div>\n        <div class="player__song-tittle">\n          <h4>${a[0]}</h4>\n          <p>${a[2]}</p>\n        </div>\n        <img class="heart__actual-song"src="${r}" alt="heart" width="16">\n        <img src="${w}" alt="max">\n      </div>\n      <div class="player__controls-1">\n        <div class="controls">\n          <img src="${_}" width="16">\n          <img src="${b}" width="16">\n          <div class="play">\n            <img src="${f}" width="16">\n          </div>\n          <img class="next" src="${b}" width="16">\n          <img src="${u}" width="16">\n        </div>\n        <div class="progress-bar">\n          <p>0:30</p>\n          <div class="bar-1">\n            <div class="bar-2"></div>\n          </div>\n        </div>\n      </div>\n      <div class="player__controls-2">\n        <img src="${$}" alt="icon" width="16">\n        <img src="${T}" alt="icon" width="16">\n        <img src="${k}" alt="icon" width="16">\n        <img src="${B}" alt="icon" width="16">\n        <div class="bar-1">\n          <div class="bar-2"></div>\n        </div>\n        <img src="${y}" alt="icon" width="16">\n      </div>\n    </div>\n  `})()}))})();