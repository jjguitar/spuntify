(()=>{"use strict";var a={};a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"==typeof window)return window}}(),(()=>{var n;a.g.importScripts&&(n=a.g.location+"");var t=a.g.document;if(!n&&t&&(t.currentScript&&(n=t.currentScript.src),!n)){var s=t.getElementsByTagName("script");s.length&&(n=s[s.length-1].src)}if(!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=n})();const n=a.p+"assets/img/461a81c236317cb30c2ae19cfd4ee93f.svg",t=a.p+"assets/img/4cb7f9c2ee8b1770ceb73b8e65a28679.svg",s=a.p+"assets/img/17d466dd49b915f2d2f3fd1ea069ab52.svg",e=a.p+"assets/img/3188f95c698bf31537962aa1b6b4b036.svg",i=a.p+"assets/img/19250efd817d4dc722a9e16d6b93a4eb.svg",r=a.p+"assets/img/cee424507c45505ab0695a53c1287dc6.svg",c={getToken:()=>(async()=>{const a=await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+btoa("0b5d68ec183745c88d11fefac1c2ae1c:429ee0e54a514f86b5270c07644df3c2")},body:"grant_type=client_credentials"});((a,n,t)=>{let s="";{let a=new Date;a.setTime(a.getTime()+2592e6),s="; expires="+a.toUTCString()}document.cookie="BearerToken="+(n||"")+s+"; path=/"})(0,(await a.json()).access_token)})(),getGenres:a=>(async a=>{const n=await fetch("https://api.spotify.com/v1/browse/categories?locale=sv_US",{method:"GET",headers:{Authorization:"Bearer "+a}});return(await n.json()).categories.items})(a),getPlaylistByGenre:(a,n)=>(async(a,n)=>{const t=await fetch(`https://api.spotify.com/v1/browse/categories/${n}/playlists?limit=12`,{method:"GET",headers:{Authorization:"Bearer "+a}});return(await t.json()).playlists.items})(a,n),getTracks:(a,n)=>(async(a,n)=>{const t=await fetch(`https://api.spotify.com/v1/playlists/${n}/tracks?limit=7`,{method:"GET",headers:{Authorization:"Bearer "+a}});return(await t.json()).items})(a,n),getPlaylistById:(a,n)=>(async(a,n)=>{const t=await fetch(`https://api.spotify.com/v1/playlists/${n}?limit=12`,{method:"GET",headers:{Authorization:"Bearer "+a}});return await t.json()})(a,n)},l=a=>{let n=a+"=",t=document.cookie.split(";");for(var s=0;s<t.length;s++){let a=t[s];for(;" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(n))return a.substring(n.length,a.length)}return null},d=a=>(async a=>{let n=[];return await c.getToken(),(await c.getGenres(l("BearerToken"))).forEach((a=>n.push({id:a.id,name:a.name}))),[n[a],await c.getPlaylistByGenre(l("BearerToken"),n[a].id)]})(a),o=a=>(async a=>await c.getTracks(l("BearerToken"),a))(a),p=a=>(async a=>await c.getPlaylistById(l("BearerToken"),a))(a),h=async()=>`\n  <div>\n    <a href="/" ><div class="nav-right__logo">\n      <img src="${n}" alt="logo" width="120" height="36">\n    </div></a>\n    <div class="menu__container">\n      <ul class="nav-right__home">\n      <a href="/"><li class="gray__push"><img src="${t}" class="icon__home" width="20" height="20">Home</li></a>\n        <li><img src="${e}" class="icon__home" width="20" height="20">Search</li>\n        <li><img src="${s}" class="icon__home" width="20" height="20">Your Library</li>\n      </ul>\n      <ul class="nav-right__create-playlist">\n        <li><img src="${i}" alt="plus" class="icon__home plus" width="20" height="20">Create Playlist</li>\n        <li><img src="${r}" alt="heart" class="icon__home heart" width="20" height="20">Liked Songs</li>\n      </ul>\n    </div>\n    <div class="list__container">\n      <ul class="nav-right__top-list" id="nav-right__top-list">\n        ${await(async()=>{let a="",n=await d(Math.floor(19*Math.random())+0);n=n[1];for(let t of n)a=a+"\n"+`\n      <a href="#/${t.id}/"><li>${t.name}</li></a>\n    `;return a})()}\n      </ul>\n    </div>\n  </div>\n  `,g=a.p+"assets/img/5d319bc7860737ed064d1762e4243869.svg",m=a=>{let n="";for(let t of a)n=n+"\n"+`\n    <a href="#/${t.id}/">\n      <div class="card-recently">\n        <div class="card-img">\n          <img src="${t.images[0].url}" alt="img" width="160">\n        </div>\n        <h1 class="card-recently__tittle">${t.name}</h1>\n        <p class"card-recently__artist">By ${t.owner.display_name}</p>\n      </div>\n    </a>\n    `;return`\n  <div class="container__recently">\n    ${n}\n  </div>\n  `},v=(a,n)=>Math.floor(Math.random()*(n-a))+a,_=async()=>`\n  <div class="container-main">\n    <section class="greetings">\n      <h1 class="content__tittle-top">Good evening</h1>\n      <div class="container__greeting">\n        ${await(async()=>{let a,n,t="",s="";a=await d(0),a=a[1],n=a.length;for(let e=0;e<n;e++)e<n/2?t=t+"\n"+`<a href="#/${a[e].id}/">\n    <div class="cards__top-item">\n      <div>\n        <img src="${a[e].images[0].url}" width="80" height="80" alt="capture">\n      </div>\n      <p>${a[e].name}</p>\n    </div>\n    </a>\n    `:s=s+"\n"+`<a href="#/${a[e].id}/">\n    <div class="cards__top-item">\n      <div>\n        <img src="${a[e].images[0].url}" width="80" height="80" alt="capture">\n      </div>\n      <p>${a[e].name}</p>\n    </div>\n    </a>`;return`\n    <div class="row__1">\n      ${t}\n    </div>\n    <div class="row__1">\n      ${s}\n    </div>\n  `})()}\n      </div>\n    </section>\n    ${await(async()=>{let a="";for(let n=1;n<4;n++){let n=v(1,20),t=await d(n),s=t[0];t=t[1],a=a+"\n"+`\n    <section class="recently-played">\n      <h2>${s.name}</h2>\n      ${m(t)}\n    </section>\n    `}return a})()}\n  `,u=()=>location.hash.slice(1).split("/")[1]||"/",f=a.p+"assets/img/1b4fe47788d6c47edda8dd6009008246.svg",w=a.p+"assets/img/c44aca9d9c72b76c5a794e8814a7633c.svg";function y(a,n){var t=Math.floor(a/1e3%60),s=Math.floor(a/6e4%60),e=Math.floor(a/36e5%24);return e=e,s=s,t=t<10?"0"+t:t,n?s+":"+t:e+" hr "+s+" min"}const b=a.p+"assets/img/518e33f1da38dafd28022bf0e8696511.svg",$=a.p+"assets/img/333d4e34dfe11f5979e8046aceb4329d.svg",k=a.p+"assets/img/c5856b456ddeefbbd05e73ea6ac81b31.svg",T=a.p+"assets/img/7f11ec9b117a496b47768c666ece7f11.svg",B=a.p+"assets/img/3ca19d6ee72a776b2c9dc40584023477.png",E=a.p+"assets/img/b1b50bf39b30724fb45a2ab0d95626f0.svg",M=a.p+"assets/img/8bf63a4d31bd5cf723239434a605499a.svg",L=a.p+"assets/img/dd55c29823e0a7e8839db81a3bf7ba7b.svg",I=a.p+"assets/img/efa9a5a0ec7e312d55b52bb8528ba65c.svg",A=a.p+"assets/img/1985511d55355369872ba3d6cbb5e29f.svg",S=a.p+"assets/img/19f3c23b1705dd88d667771dad021197.svg",j=(a,n)=>Math.floor(Math.random()*(n-a))+a,G={"/":_,"/:id":async()=>{document.getElementById("content").innerHTML="";const a=u();let n=await p(a),t=(a=>{let n=a.tracks.items,t=0;return n.map((a=>{t+=a.track.duration_ms})),y(t)})(n),s=n.tracks.items;s.length>31&&(s=s.slice(0,30));let e=1;return`\n  <div class="container-main">\n    <div class="main-container__playlist">\n    <div class="playlist__capture">\n      <img src="${n.images[0].url}" width="64" height="64">\n    </div>\n    <div class="playlist__info">\n      <h5>PLAYLIST</h5>\n      <h1>${n.name}</h1>\n      <p class="description">${n.description}</p>\n      <div class="playlist__info-social-media">\n        <p>${n.owner.display_name}\n        <span>${n.followers.total.toLocaleString("en-US")} followers</span>\n        <span>${n.tracks.total} songs, ${t}</span></p>\n      </div>\n    </div>\n  </div>\n  <div class="playlist__controls">\n    <div class="playlist__play">\n      <img src="${f}" alt="play" width="30" height="30">\n    </div>\n    <img class="playlist__heart" src="${r}" alt="heart" width="30" height="30">\n    <div class="playlist__continue">\n      <span></span>\n      <span></span>\n      <span></span>\n    </div>\n  </div>\n  <div class="playlist__table-container title__table">\n    <span>#</span>\n    <span>TITLE</span>\n    <span class="playlist-title__plays">ALBUM</span>\n    <span class="playlist-plays">\n      <img src="${w}" width="16">\n    </span>\n  </div>\n  ${s.map((a=>`\n      <div class="playlist__table-container track__height">\n        <span>${e++}</span>\n        <span class="track-container">\n          <span><img src="${a.track.album.images[0].url}" width="40"></span>\n          <span class="track-detail">\n            <span>${a.track.name}</span>\n            <span class="artist">${a.track.artists[0].name}</span>\n          </span>\n        </span>\n        <span class="playlist__album-name">${a.track.album.name}</span>\n        <span class="playlist-plays">${y(a.track.duration_ms,!0)}</span>\n      </div>\n    `)).join("")}\n  </div>\n  `},"/contact":"Contact","/:pages":_},P=async()=>{const a=document.getElementById("header"),n=document.getElementById("nav-right"),t=document.getElementById("nav-right__top-list"),s=document.getElementById("content"),e=document.getElementById("player");null!==t&&t.hasChildNodes()||(a.innerHTML=await(`\n  <a href="javascript: history.go(-1)" class="header__arrow-back">\n    <img src="${g}" alt="arrow">\n  </a>\n  <div class="header__avatar">\n    <img src="https://platform-lookaside.fbsbx.com/platform/profilepic/?asid=10203764242125371&height=300&width=300&ext=1620131731&hash=AeTKkPhZ3vUCxI9Kw-k" alt="avatar">\n  </div>\n  `),n.innerHTML=await h(),e.innerHTML=await(async()=>{let a=await(async()=>{let a;a=await d(j(0,19)),a=a[1];let n=a[j(0,a.length-1)].id,t=await o(n);return t=t[0].track,[null===t?"Unknown":t.name,null===t?B:t.album.images[2].url,null===t?"Unknown":t.artists[0].name]})();return`\n    <div id="install-app">\n      <img src="${b}" alt="download" width="24">\n      <a href="/">Install App</a>\n    </div>\n    <div class="player-control">\n      <div class="player__song">\n        <div class="player__song-actual">\n          <img src="${a[1]}" width="64" height="64" alt="cover">\n        </div>\n        <div class="player__song-tittle">\n          <h4>${a[0]}</h4>\n          <p>${a[2]}</p>\n        </div>\n        <img class="heart__actual-song"src="${r}" alt="heart" width="16">\n        <img src="${$}" alt="max">\n      </div>\n      <div class="player__controls-1">\n        <div class="controls">\n          <img src="${T}" width="16">\n          <img src="${k}" width="16">\n          <div class="play">\n            <img src="${f}" width="16">\n          </div>\n          <img class="next" src="${k}" width="16">\n          <img src="${E}" width="16">\n        </div>\n        <div class="progress-bar">\n          <p>0:30</p>\n          <div class="bar-1">\n            <div class="bar-2"></div>\n          </div>\n        </div>\n      </div>\n      <div class="player__controls-2">\n        <img src="${L}" alt="icon" width="16">\n        <img src="${I}" alt="icon" width="16">\n        <img src="${A}" alt="icon" width="16">\n        <img src="${S}" alt="icon" width="16">\n        <div class="bar-1">\n          <div class="bar-2"></div>\n        </div>\n        <img src="${M}" alt="icon" width="16">\n      </div>\n    </div>\n  `})());let i=u(),c=await(a=>{if("about"!=a){if("/"===a)return a;if(a.length<=23)return"/:id";if(a.includes("page"))return"/:pages"}return console.log("se fue por route: "+a),`/${a}`})(i),l=G[c]?G[c]:_;s.innerHTML=await l()};window.addEventListener("load",P),window.addEventListener("hashchange",P)})();